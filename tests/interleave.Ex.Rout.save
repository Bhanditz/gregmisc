
R : Copyright 2004, The R Foundation for Statistical Computing
Version 1.9.0 beta (2004-03-26), ISBN 3-900051-00-3

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for a HTML browser interface to help.
Type 'q()' to quit R.

> library(gregmisc)

Attaching package 'gregmisc':


	The following object(s) are masked from package:stats :

	 lowess 

> set.seed(1234)
> 
> 
> # Simple example
> a <- matrix(1:10,ncol=2,byrow=TRUE)
> b <- matrix(letters[1:10],ncol=2,byrow=TRUE)
> c <- matrix(LETTERS[1:10],ncol=2,byrow=TRUE)
> interleave(a,b,c)
      [,1] [,2]
 [1,] "1"  "2" 
 [2,] "a"  "b" 
 [3,] "A"  "B" 
 [4,] "3"  "4" 
 [5,] "c"  "d" 
 [6,] "C"  "D" 
 [7,] "5"  "6" 
 [8,] "e"  "f" 
 [9,] "E"  "F" 
[10,] "7"  "8" 
[11,] "g"  "h" 
[12,] "G"  "H" 
[13,] "9"  "10"
[14,] "i"  "j" 
[15,] "I"  "J" 
> 
> # Useful example:
> #
> # Create a 2-way table of means, standard errors, and # obs
> 
> g1 <- sample(letters[1:5], 1000, replace=TRUE)
> g2 <- sample(LETTERS[1:3], 1000, replace=TRUE )
> dat <- rnorm(1000)
> 
> stderr <- function(x) sqrt( var(x,na.rm=TRUE) / nobs(x) )
> 
> means   <- aggregate.table( dat, g1, g2, mean )
> stderrs <- aggregate.table( dat, g1, g2, stderr )
> ns      <- aggregate.table( dat, g1, g2, nobs )
> blanks <- matrix( " ", nrow=5, ncol=3)
> 
> tab <- interleave( "Mean"=round(means,2),
+                    "Std Err"=round(stderrs,2),
+                    "N"=ns, " " = blanks, sep=" " )
> 
> print(tab, quote=FALSE)
          A     B     C    
a Mean    0.08  0     -0.16
a Std Err 0.12  0.12  0.13 
a N       65    68    57   
                           
b Mean    -0.1  -0.01 0.14 
b Std Err 0.12  0.11  0.12 
b N       68    77    60   
                           
c Mean    0.12  -0.09 0.03 
c Std Err 0.12  0.13  0.12 
c N       77    63    59   
                           
d Mean    0.09  0.17  0.05 
d Std Err 0.12  0.12  0.14 
d N       60    78    60   
                           
e Mean    -0.03 -0.11 0    
e Std Err 0.11  0.13  0.11 
e N       74    64    70   
                           
> 
> 
