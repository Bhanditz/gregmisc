
R : Copyright 2003, The R Development Core Team
Version 1.7.0  (2003-04-16)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type `license()' or `licence()' for distribution details.

R is a collaborative project with many contributors.
Type `contributors()' for more information.

Type `demo()' for some demos, `help()' for on-line help, or
`help.start()' for a HTML browser interface to help.
Type `q()' to quit R.

> library(gregmisc)
Loading required package: MASS 

Attaching package 'gregmisc':


	The following object(s) are masked from package:base :

	 lowess 

> set.seed(123456,"default")
> 
> # Simple example
> a <- matrix(1:10,ncol=2,byrow=TRUE)
> b <- matrix(letters[1:10],ncol=2,byrow=TRUE)
> c <- matrix(LETTERS[1:10],ncol=2,byrow=TRUE)
> interleave(a,b,c)
      [,1] [,2]
 [1,] "1"  "2" 
 [2,] "a"  "b" 
 [3,] "A"  "B" 
 [4,] "3"  "4" 
 [5,] "c"  "d" 
 [6,] "C"  "D" 
 [7,] "5"  "6" 
 [8,] "e"  "f" 
 [9,] "E"  "F" 
[10,] "7"  "8" 
[11,] "g"  "h" 
[12,] "G"  "H" 
[13,] "9"  "10"
[14,] "i"  "j" 
[15,] "I"  "J" 
> 
> # Useful example:
> #
> # Create a 2-way table of means, standard errors, and # obs
> 
> g1 <- sample(letters[1:5], 1000, replace=TRUE)
> g2 <- sample(LETTERS[1:3], 1000, replace=TRUE )
> 
> dat <- rnorm(1000)
> 
> stderr <- function(x) sqrt( var(x,na.rm=TRUE) / (nobs(x) - 1 ) )
> 
> means   <- aggregate.table( dat, g1, g2, mean )
> stderrs <- aggregate.table( dat, g1, g2, stderr )
> ns      <- aggregate.table( dat, g1, g2, nobs )
> blanks <- matrix( " ", nrow=5, ncol=3)
> 
> tab <- interleave( "Mean"=round(means,2),
+                    "Std Err"=round(stderrs,2),
+                    "N"=ns, " " = blanks, sep=" " )
> 
> print(tab, quote=FALSE)
          A     B     C    
a Mean    -0.17 -0.19 0.11 
a Std Err 0.13  0.11  0.12 
a N       65    75    70   
                           
b Mean    0.22  0.21  0.15 
b Std Err 0.13  0.13  0.11 
b N       62    64    66   
                           
c Mean    0.03  0.06  0.01 
c Std Err 0.13  0.14  0.13 
c N       65    66    74   
                           
d Mean    -0.05 -0.13 -0.13
d Std Err 0.13  0.12  0.13 
d N       57    73    63   
                           
e Mean    -0.16 -0.04 0.04 
e Std Err 0.13  0.12  0.13 
e N       75    68    57   
                           
> 
> tab <- interleave( "Mean"=round(means,2),
+                    "Std Err"=round(stderrs,2),
+                    "N"=ns, " " = blanks, append.source=FALSE)
> 
> print(tab, quote=FALSE)
  A     B     C    
a -0.17 -0.19 0.11 
a 0.13  0.11  0.12 
a 65    75    70   
                   
b 0.22  0.21  0.15 
b 0.13  0.13  0.11 
b 62    64    66   
                   
c 0.03  0.06  0.01 
c 0.13  0.14  0.13 
c 65    66    74   
                   
d -0.05 -0.13 -0.13
d 0.13  0.12  0.13 
d 57    73    63   
                   
e -0.16 -0.04 0.04 
e 0.13  0.12  0.13 
e 75    68    57   
                   
> 
