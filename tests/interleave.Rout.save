
R : Copyright 2002, The R Development Core Team
Version 1.6.0  (2002-10-01)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type `license()' or `licence()' for distribution details.

R is a collaborative project with many contributors.
Type `contributors()' for more information.

Type `demo()' for some demos, `help()' for on-line help, or
`help.start()' for a HTML browser interface to help.
Type `q()' to quit R.

> library(gregmisc)
Loading required package: MASS 

Attaching package `gregmisc':


	The following object(s) are masked from package:base :

	 lowess 

> set.seed(123456,"default")
> 
> # Simple example
> a <- matrix(1:10,ncol=2,byrow=TRUE)
> b <- matrix(letters[1:10],ncol=2,byrow=TRUE)
> c <- matrix(LETTERS[1:10],ncol=2,byrow=TRUE)
> interleave(a,b,c)
      [,1] [,2]
 [1,] "1"  "2" 
 [2,] "a"  "b" 
 [3,] "A"  "B" 
 [4,] "3"  "4" 
 [5,] "c"  "d" 
 [6,] "C"  "D" 
 [7,] "5"  "6" 
 [8,] "e"  "f" 
 [9,] "E"  "F" 
[10,] "7"  "8" 
[11,] "g"  "h" 
[12,] "G"  "H" 
[13,] "9"  "10"
[14,] "i"  "j" 
[15,] "I"  "J" 
> 
> # Useful example:
> #
> # Create a 2-way table of means, standard errors, and # obs
> 
> g1 <- sample(letters[1:5], 1000, replace=TRUE)
> g2 <- sample(LETTERS[1:3], 1000, replace=TRUE )
> 
> dat <- rnorm(1000)
> 
> stderr <- function(x) sqrt( var(x,na.rm=TRUE) / (nobs(x) - 1 ) )
> 
> means   <- aggregate.table( dat, g1, g2, mean )
> stderrs <- aggregate.table( dat, g1, g2, stderr )
> ns      <- aggregate.table( dat, g1, g2, nobs )
> blanks <- matrix( " ", nrow=5, ncol=3)
> 
> tab <- interleave( "Mean"=round(means,2),
+                    "Std Err"=round(stderrs,2),
+                    "N"=ns, " " = blanks, sep=" " )
> 
> print(tab, quote=FALSE)
          A     B     C    
a Mean    -0.06 -0.03 0.01 
a Std Err 0.12  0.12  0.12 
a N       72    69    61   
                           
b Mean    -0.23 0.05  -0.01
b Std Err 0.11  0.11  0.13 
b N       71    63    60   
                           
c Mean    0.04  0.03  0.16 
c Std Err 0.14  0.12  0.12 
c N       63    70    60   
                           
d Mean    0.12  -0.1  0.05 
d Std Err 0.14  0.12  0.14 
d N       64    64    66   
                           
e Mean    -0.1  0.06  0.16 
e Std Err 0.12  0.13  0.12 
e N       83    66    68   
                           
> 
> tab <- interleave( "Mean"=round(means,2),
+                    "Std Err"=round(stderrs,2),
+                    "N"=ns, " " = blanks, append.source=FALSE)
> 
> print(tab, quote=FALSE)
  A     B     C    
a -0.06 -0.03 0.01 
a 0.12  0.12  0.12 
a 72    69    61   
                   
b -0.23 0.05  -0.01
b 0.11  0.11  0.13 
b 71    63    60   
                   
c 0.04  0.03  0.16 
c 0.14  0.12  0.12 
c 63    70    60   
                   
d 0.12  -0.1  0.05 
d 0.14  0.12  0.14 
d 64    64    66   
                   
e -0.1  0.06  0.16 
e 0.12  0.13  0.12 
e 83    66    68   
                   
> 
