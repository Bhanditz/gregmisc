
R : Copyright 2002, The R Development Core Team
Version 1.5.1 Patched (2002-06-18)

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type `license()' or `licence()' for distribution details.

R is a collaborative project with many contributors.
Type `contributors()' for more information.

Type `demo()' for some demos, `help()' for on-line help, or
`help.start()' for a HTML browser interface to help.
Type `q()' to quit R.

> library(gregmisc)
Loading required package: MASS 

Attaching package `gregmisc':


	The following object(s) are masked from package:base :

	 lowess plot.lm 

> set.seed(123456789,"default")
> tN <- table(Ni <- rpois(100, lambda=5))
> r <- barplot2(tN, col='gray')
> 
> #- type = "h" plotting *is* `bar'plot
> lines(r, tN, type='h', col='red', lwd=2)
> 
> barplot2(tN, space = 1.5, axisnames=FALSE,
+         sub = "barplot2(..., space= 1.5, axisnames = FALSE)")
> 
> data(VADeaths, package = "base")
> barplot2(VADeaths, plot = FALSE)
[1] 0.7 1.9 3.1 4.3
> barplot2(VADeaths, plot = FALSE, beside = TRUE)
     [,1] [,2] [,3] [,4]
[1,]  1.5  7.5 13.5 19.5
[2,]  2.5  8.5 14.5 20.5
[3,]  3.5  9.5 15.5 21.5
[4,]  4.5 10.5 16.5 22.5
[5,]  5.5 11.5 17.5 23.5
> 
> mp <- barplot2(VADeaths) # default
> tot <- colMeans(VADeaths)
> text(mp, tot + 3, format(tot), xpd = TRUE, col = "blue")
> barplot2(VADeaths, beside = TRUE,
+         col = c("lightblue", "mistyrose", "lightcyan",
+                 "lavender", "cornsilk"),
+         legend = rownames(VADeaths), ylim = c(0, 100))
> title(main = "Death Rates in Virginia", font.main = 4)
> 
> # Example with confidence intervals and grid
> hh <- t(VADeaths)[, 5:1]
> mybarcol <- "gray20"
> ci.l <- hh * 0.85
> ci.u <- hh * 1.15
> mp <- barplot2(hh, beside = TRUE,
+         col = c("lightblue", "mistyrose",
+                 "lightcyan", "lavender"),
+         legend = colnames(VADeaths), ylim= c(0,100),
+         main = "Death Rates in Virginia", font.main = 4,
+         sub = "Faked error bars", col.sub = mybarcol,
+         cex.names = 1.5, plot.ci = TRUE, ci.l = ci.l, ci.u = ci.u,
+         plot.grid = TRUE)
> mtext(side = 1, at = colMeans(mp), line = -2,
+       text = paste("Mean", formatC(colMeans(hh))), col = "red")
> box()
> 
> # Example with horizontal bars, grid and logarithmic x axis
> barplot2(1:10 , log = "x", plot.grid = TRUE, grid.inc = 10,
+         xlim = c(0.5, 20), horiz = TRUE, cex.axis = 0.9,
+         prcol = "gray95")
> box()
> 
> # Bar shading example
> barplot2(VADeaths, angle = 15+10*1:5, density = 20, col = "black",
+         legend = rownames(VADeaths))
> title(main = list("Death Rates in Virginia", font = 4))
> 
